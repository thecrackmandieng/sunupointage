<app-sidebar></app-sidebar>

<div class="card-management-container">
  <div class="card shadow-sm">
    <!-- Titre de la carte -->
    <div class="card-header">
      <h3 class="mb-0">Gestion des cartes</h3>
    </div>

    <!-- Contenu de la carte -->
    <div class="card-body">
      <div *ngIf="loading" class="loading">Chargement des employés...</div>
      
      <table class="table table-striped mt-3" *ngIf="!loading">
        <thead>
          <tr>
            <th>Photo</th>
            <th>Prénom et Nom</th>
            <th>Email</th>
            <th>Rôle</th>
            <th>Matricule</th>
            <th>cardID</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let employee of employees">
            <td>
              <img 
                [src]="employee.photo" 
                alt="{{ employee.prenom }} {{ employee.nom }}" 
                style="width: 50px; height: 50px; border-radius: 50%;"
              >
            </td>
            <td>{{ employee.prenom }} {{ employee.nom }}</td>
            <td>{{ employee.email }}</td>
            <td>{{ employee.role }}</td>
            <td>{{ employee.matricule }}</td>
            <td>{{ employee.cardID }}</td>
            <td>
              <button 
                class="btn btn-success btn-sm" 
                (click)="openAssignCard(employee.id)"
              >
                Assigner
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
