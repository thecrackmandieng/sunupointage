<app-sidebar></app-sidebar> <!-- Utilisation du composant Sidebar -->

<div class="card-management-container">
  <div class="card">
    <div class="card-header text-white">
      <h3 class="card-title text-center">Gestion des cartes</h3>
    </div>
    <div class="card-body">
      <div *ngIf="loading" class="loading">Chargement des employés...</div>
      
      <table class="table table-striped" *ngIf="!loading">
        <thead>
          <tr>
            <th>Photo</th>
            <th>Prénom et Nom</th>
            <th>Email</th>
            <th>Rôle</th>
            <th>Matricule</th>
            <th>cardID</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let employee of paginatedEmployees">
            <td>
              <img 
                [src]="employee.photo" 
                alt="{{ employee.prenom }} {{ employee.nom }}" 
                style="width: 50px; height: 50px; border-radius: 50%;">
            </td>
            <td>{{ employee.prenom }} {{ employee.nom }}</td>
            <td>{{ employee.email }}</td>
            <td>{{ employee.role }}</td>
            <td>{{ employee.matricule }}</td>
            <td>{{ employee.cardID }}</td>
            <td>
              <button class="btn btn-success btn-sm" (click)="openAssignCard(employee.id)">Assigner</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="card-footer text-muted d-flex justify-content-between">
      <button class="btn btn-secondary btn-sm" [disabled]="currentPage === 1" (click)="previousPage()">Précédent</button>
      <span>Page {{ currentPage }} sur {{ totalPages }}</span>
      <button class="btn btn-secondary btn-sm" [disabled]="currentPage === totalPages" (click)="nextPage()">Suivant</button>
    </div>
  </div>
</div>
